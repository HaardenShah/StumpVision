:root{
  --bg:#0f172a; --panel:#111827; --ink:#e5e7eb; --muted:#9ca3af; --accent:#22d3ee; --danger:#ef4444; --ok:#10b981; --card:#0b1220; --btn:#1f2937; --btnhi:#374151;
}
*{box-sizing:border-box; -webkit-tap-highlight-color: transparent;}
html,body{height:100%}
body{
  margin:0;
  font:16px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  background:linear-gradient(180deg,#0b1020,#0f172a 30%,#0b1020 100%);
  color:var(--ink)
}
.wrap{max-width:1100px;margin:0 auto;padding:16px}
header{display:flex;gap:12px;align-items:center;justify-content:space-between;margin-bottom:12px}
h1{font-size:22px;margin:0}
.grid{display:grid;gap:12px}
@media(min-width:900px){.grid.cols-3{grid-template-columns:2fr 1.2fr 1fr}}
@media(max-width:899px){.grid.cols-3{grid-template-columns:1fr}}

.card{
  background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,.02));
  border:1px solid rgba(255,255,255,.08); border-radius:16px; padding:14px;
  box-shadow:0 8px 30px rgba(0,0,0,.25)
}
.card.inset{margin-top:12px}
.row{display:flex;gap:10px;align-items:center}
.row.wrap{flex-wrap:wrap}
.row.space-between{justify-content:space-between}
.align-center{align-items:center}
.field{min-width:200px}
.field.narrow{min-width:120px}
label{color:var(--muted);font-size:12px;text-transform:uppercase;letter-spacing:.08em}
input[type=text],input[type=number],select{
  background:#0a0f1c;border:1px solid #1f2937;border-radius:10px;color:var(--ink);
  padding:12px 12px; font-size:16px; min-height:44px
}
.stats-pack .stat{min-width:88px}
.stat{display:flex;flex-direction:column;align-items:center;justify-content:center;background:var(--card);border:1px solid #1f2937;border-radius:12px;padding:10px}
.stat .v{font-size:22px;font-weight:700}
.pill{padding:6px 10px;border-radius:999px;background:#0d1426;border:1px solid #1f2937;color:var(--muted)}
.pill.accent{border-color:#155e75; color:#67e8f9}
.hidden{display:none}

.btn{
  background:var(--btn);border:1px solid #2a3446;color:#e5e7eb;padding:12px 16px;border-radius:12px;
  cursor:pointer;font-weight:600;min-height:44px
}
.btn:hover{background:var(--btnhi)}
.btn.danger{border-color:#7f1d1d}
.btn.big{font-size:18px;border-radius:14px}
.pad{display:grid;grid-template-columns:1fr;gap:12px;margin-top:12px}
@media(min-width:720px){.pad{grid-template-columns:1fr 1fr}}
.padgrid{display:grid;grid-template-columns:repeat(4,1fr);gap:10px}
.padgrid .btn{padding:18px 12px}
.overstrip{display:flex;gap:6px;flex-wrap:wrap}
.chip{background:#0a0f1c;border:1px solid #22304a;padding:6px 10px;border-radius:10px}
.sep{border:0;border-top:1px dashed #23314b;margin:12px 0}
.hint{color:var(--muted);font-size:13px}
.log{max-height:420px;overflow:auto;margin-top:6px;padding-right:4px}
.table,table{width:100%;border-collapse:collapse}
th,td{padding:8px 6px;border-bottom:1px dashed #23314b;text-align:left}
tbody tr:hover{background:rgba(255,255,255,.03)}

/* Extras row */
.extras{margin:10px 0}
.extras-row{display:flex;gap:8px;flex-wrap:wrap}

/* Modal */
.modal{ position:fixed; inset:0; background:rgba(0,0,0,.55); display:flex; align-items:center; justify-content:center; z-index:9999; }
.modal.hidden{display:none}
.modal-card{ width:min(480px,92vw); background:#0b1220; border:1px solid #23314b; border-radius:16px; padding:16px; box-shadow:0 10px 40px rgba(0,0,0,.6) }
.modal-title{font-weight:700;margin-bottom:10px}
.nb-grid{display:grid;grid-template-columns:repeat(6,1fr);gap:8px;margin-bottom:10px}
.modal-actions{justify-content:flex-end}

/* Mobile polish */
@media(max-width:480px){
  .btn{min-height:48px}
  .btn.big{font-size:20px}
  .stat .v{font-size:20px}
  .padgrid{gap:8px}
}