:root{
  --bg:#0b1120; --panel:#0f172a; --card:#0b1220;
  --ink:#e5e7eb; --muted:#9ca3af; --line:#22314b;
  --accent:#22d3ee; --danger:#ef4444;
}
*{box-sizing:border-box; -webkit-tap-highlight-color:transparent}
html,body{height:100%}
body{margin:0;color:var(--ink);background:#0b1020;font:16px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}

/* Appbar */
.appbar{position:sticky;top:0;z-index:50;background:rgba(2,6,23,.9);backdrop-filter:blur(6px);border-bottom:1px solid rgba(255,255,255,.06)}
.appbar-row{display:flex;align-items:center;justify-content:space-between;padding:10px 14px}
.brand{font-weight:800}
.actions{display:flex;gap:8px}
.chip-btn{background:#111827;border:1px solid #22314b;color:var(--ink);padding:8px 12px;border-radius:999px}
.chip-btn.small{padding:6px 10px;font-size:13px}
.chip-btn.danger{border-color:#7f1d1d}
.muted{color:var(--muted)}

.summary{display:grid;grid-template-columns:repeat(5,1fr);gap:6px;padding:8px 10px 10px}
.summary-item{background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,.02));border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:8px;text-align:center}
.summary .k{font-size:11px;color:var(--muted);text-transform:uppercase;letter-spacing:.08em}
.summary .v{font-size:17px;font-weight:800}

/* Content */
.content{padding:12px}
body.has-dock .content{padding-bottom:calc(140px + env(safe-area-inset-bottom,0))} /* ensures footer is above dock */
.content.no-dock{padding-bottom:24px}

.card{background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,.02));border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:12px;margin:10px 0}
.card.tight{padding:10px}
.card.lite{background:rgba(255,255,255,.03)}
.row{display:flex;align-items:center}
.row.wrap{flex-wrap:wrap}
.row.space-between{justify-content:space-between}
.gap{gap:8px}
.mt{margin-top:10px}
.center{text-align:center}
.hidden{display:none}

.form{display:flex;flex-direction:column;gap:10px}
.grid2{display:grid;grid-template-columns:1fr;gap:10px}
@media(min-width:720px){.grid2{grid-template-columns:1fr 1fr}}
input[type=text],input[type=number],select{background:#0a0f1c;color:var(--ink);border:1px solid #1f2937;border-radius:12px;padding:12px 14px;min-height:46px}
.field{display:flex;flex-direction:column;gap:6px}
.field span{color:var(--muted);font-size:12px;text-transform:uppercase;letter-spacing:.08em}
.field-row{display:flex;gap:10px}
.field.sm{min-width:140px}
.chip-input{background:#0a0f1c;border:1px solid #1f2937;border-radius:999px;padding:10px 14px;min-width:120px;color:var(--ink)}

.btn{background:#1f2937;border:1px solid #2a3446;color:var(--ink);padding:12px 16px;border-radius:12px;font-weight:700}
.btn.big{font-size:18px;border-radius:14px}
.btn.danger{border-color:#7f1d1d}
.btn.accent{border-color:#155e75}
.btn.ghost{background:transparent}

/* Pills & chips */
.pill{padding:6px 10px;border-radius:999px;background:#0d1426;border:1px solid #1f2937;color:var(--muted)}
.pill.accent{border-color:#155e75;color:#67e8f9}

/* Over strip & tables */
.overstrip{display:flex;gap:6px;flex-wrap:wrap}
.table{width:100%;border-collapse:collapse}
.table.compact th,.table.compact td{padding:8px 6px;border-bottom:1px dashed #23314b}

/* Lists for players */
.plist{list-style:none;margin:8px 0 0;padding:0;display:flex;flex-wrap:wrap;gap:6px}
.plist li{background:#0a0f1c;border:1px solid #22304a;border-radius:999px;padding:6px 10px}
.plist li .x{margin-left:8px;background:transparent;border:0;color:#fca5a5;font-weight:900}

/* Stepper */
.stepper{display:flex;gap:8px;padding:8px 2px}
.step{flex:1;text-align:center;padding:10px;border:1px dashed #23314b;border-radius:10px;color:var(--muted)}
.step.current{border-style:solid;color:var(--ink)}

/* Dock */
.dock{position:fixed;left:0;right:0;bottom:0;z-index:60;background:linear-gradient(180deg,rgba(2,6,23,.2),rgba(2,6,23,.95));backdrop-filter:blur(8px);border-top:1px solid rgba(255,255,255,.06);padding:10px 10px calc(12px + env(safe-area-inset-bottom,0))}
.padgrid{display:grid;gap:8px;grid-template-columns:repeat(6,1fr)}
@media(max-width:480px){.padgrid{grid-template-columns:repeat(4,1fr)}}

/* Modals (unchanged) */
.modal{position:fixed;inset:0;background:rgba(0,0,0,.55);display:flex;align-items:center;justify-content:center;z-index:80}
.modal.hidden{display:none}
.modal-card{width:min(480px,92vw);background:#0b1220;border:1px solid #23314b;border-radius:16px;padding:16px}
.modal-title{font-weight:800;margin-bottom:10px}
.nb-grid{display:grid;grid-template-columns:repeat(6,1fr);gap:8px;margin-bottom:10px}

/* Log */
.log{max-height:360px;overflow:auto;padding-right:4px}
.hint{color:var(--muted);font-size:13px}
